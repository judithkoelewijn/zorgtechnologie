<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Aframe environment</title>
  <meta name="description" content="Hello, World! - A-Frame">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-room-component/dist/aframe-room-component.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  <!-- Load local teleport functionality -->
<script src="teleport.js"></script>
  <!-- script for physics -->
  <!-- Get deprecated three.js functionalty needed for physics -->
<!-- https://github.com/n5ro/aframe-physics-system/issues/187 -->
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r134/examples/js/deprecated/Geometry.js"></script>

<!-- Get aframe physics (needs three.js geometry) -->
<script src="//cdn.jsdelivr.net/gh/donmccurdy/aframe-physics-system@v2.1.0/dist/aframe-physics-system.min.js"></script>

</head>

<body>

  <!-- script js code -->
  <script>

AFRAME.registerComponent('on-click-demo', {
    init: function () {
        // Init needed variables
    // Add event listner
    this.el.addEventListener('click', function (evt) {
      console.log('I was clicked at: ', evt.detail.intersection.point);
      // Add more code on click
    });
    }
});

this.el.grab = false; // Set grab var to not grabbed
      this.el.addEventListener("triggerdown", function (e) {
        console.log("triggerdown", e.target.id);
        this.grab = true; // Grab something
      });
      this.el.addEventListener('tirggerup', function (e) {
        console.log("TriggerUp", e.target.id);
        this.grab = false; // Release something
      });

  /**
 * Listen to thumbstickdown event
 * Show a target circle
 */
this.el.addEventListener("thumbstickdown", function (e) {
    console.log("thumbstickdown", e.target.id);
    this.emit('teleportstart');    // Show the circle
 });

/**
 * Listen to thumbstickup event
 * Teleport to the target circle
 */
this.el.addEventListener("thumbstickup", function (e) {
    console.log("thumbstickup", e.target.id);
    this.emit('teleportend');    // Jump to circle
});

  </script>

  <a-scene>

    <!-- controls -->
    <a-entity id="cameraRig">
      <a-entity id="head" camera wasd-controls look-controls position="0 1.6 0"></a-entity>
      <a-entity
        id="leftController"
        static-body="shape: sphere; sphereRadius: 0.02;"
        laser-controls="hand: left"
        raycaster="lineColor: red; far:2"
        sphere-collider="objects: .throwable"
        grab
        teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; startEvents: teleportstart; endEvents: teleportend;"
        input-listen
      ></a-entity>
      <a-entity
        id="rightController"
        static-body="shape: sphere; sphereRadius: 0.02;"
        laser-controls="hand: right"
        raycaster="lineColor: red; far:2"
        sphere-collider="objects: .throwable"
        grab
        teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; startEvents: teleportstart; endEvents: teleportend;"
        input-listen
      ></a-entity>
    </a-entity>

    <!-- ophalen assets uit assets folder , meegeven van id om aan te roepen -->

    <a-assets>

      <a-asset-items id="bear" src="assets/scene.gltf"></a-asset-items>
      <img id="floorTexture" src="./assets/floor.jpg">
      <a-asset-items id="bed" src="assets/hospital/scene.gltf"></a-asset-items>
      <a-asset-items id="couch" src="assets/couch/scene.gltf"></a-asset-items>
      <a-asset-items id="table" src="assets/table/scene.gltf"></a-asset-items>
      <a-asset-items id="carpet" src="assets/carpet/scene.gltf"></a-asset-items>
      <a-asset-items id="bookshelf" src="assets/bookshelf/scene.gltf"></a-asset-items>
      <a-asset-items id="tv" src="assets/television/scene.gltf"></a-asset-items>
      <a-asset-items id="wood" src="assets/wood.jpg"></a-asset-items>

    </a-assets>


    <!-- opbouw van woning / gebouw (muren, voorkant, dak, achterkant, vloeren) -->

    <!--zijkant huis-->
    <a-box src="#boxTexture" position="-2.95259 0.91314 -1.84807" depth="20" width="0.05" height="10" rotation="0 0 0"></a-box>
    <!--voorkant huis-->
    <a-box src="#boxTexture" position="4 1 8.18934" depth="0,05" width="14" height="10" rotation="0 0 0"></a-box>
    <!--zijkant huis-->
    <a-box src="#boxTexture" position="11 1 -1.81643" depth="20" width="0.05" height="10" rotation="0 0 0"></a-box>
    <!--achterkant huis-->
    <a-box src="#boxTexture" position="4 1 -11.85885" depth="0,05" width="14" height="10" rotation="0 0 0"></a-box>
    <!--vloer in huis-->
    <a-plane src="#wood" color="#ffffff" position="4 0.001 -1.82508" rotation="-90 0 0" height="20" width="14"></a-plane>
    
    <!-- dak van het huis-->
    <a-box position="4 6.37283 -1.83315" depth="20" width="14" height="1" rotation="0 0 0" color="#8B8378"></a-box>

    <!-- dynamic body test -->

    <a-box position="0 0 -5" rotation="0 0 0" static-body class="on-click-demo"></a-box>
    

    <!-- inladen van environment forest, gepersonaliseerd naar alleen kleuren en grondoppervlak -->

    <a-entity environment="preset: forest; dressing:none; ground:flat; groundTexture:walkernoise; ligtPosition:1">
    </a-entity>

    <!-- inladen en positioneren van 3d objecten (opgehaald door #id van asset mee te geven)-->

    <a-entity gltf-model="#couch" scale="0.008 0.008 0.008" position="-1.42718 0.5 -19.92022" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#table" scale="0.03 0.03 0.03" position="-1.5 0.2 4" rotation="0 0 0"></a-entity>
    <a-entity gltf-model="#carpet" scale="2.4 2.4 2.4" position="0 0.2 4" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#bookshelf" scale="0.8 0.8 0.8" position="3 0.2 5" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#tv" scale="0.1 0.1 0.1" position="1.79967 0.17502 4.00489" rotation="0 270 0"></a-entity>

  

    
  </a-scene>


  <!-- link naar extern javascript file -->


 


</body>

</html>







