<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Aframe environment</title>
  <meta name="description" content="Hello, World! - A-Frame">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-room-component/dist/aframe-room-component.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <!-- Load local teleport functionality -->
<script src="teleport.js"></script>
  <!-- script for physics -->
<!-- Get deprecated three.js functionalty needed for physics -->
<!-- https://github.com/n5ro/aframe-physics-system/issues/187 -->
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r134/examples/js/deprecated/Geometry.js"></script>

<!-- Get aframe physics (needs three.js geometry) -->
<script src="//cdn.jsdelivr.net/gh/donmccurdy/aframe-physics-system@v2.1.0/dist/aframe-physics-system.min.js"></script>

</head>

<body>



  <!-- script test console log-->

  <script>
    AFRAME.registerComponent("input-listen", {
      init: function () {
        //Called when trigger is pressed 
        //squeeze button in WebXR debugger
        this.el.addEventListener("triggerdown", function (e) {
          console.log("triggerdown", e.target.id);
        });
        this.el.addEventListener("triggerup", function (e) {
          console.log("triggerup", e.target.id);
        });

    
        //Called when thumbstickchanged  
        //select button in WebXR debugger
        this.el.addEventListener("thumbstickchanged", function (e) {
          console.log("thumbstickchanged", e.target.id);
        });
          }
    });

    
        
        


    </script>



  <!-- controlers -->


  <a-scene physics="debug: true">

    <a-entity id="cameraRig">
      <a-entity id="head" camera wasd-controls look-controls position="0 1.6 0"></a-entity>
      <a-entity
        id="leftController"
        input-listen
        static-body="shape: sphere; sphereRadius: 0.02;"
        laser-controls="hand: left"
        raycaster="lineColor: red; far:2"
        sphere-collider="objects: .throwable"
        grab
        teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; startEvents: teleportstart; endEvents: teleportend;"
        
      ></a-entity>
      <a-entity
        id="rightController"
        input-listen
        static-body="shape: sphere; sphereRadius: 0.02;"
        laser-controls="hand: right"
        raycaster="lineColor: red; far:2"
        sphere-collider="objects: .throwable"
        grab
        teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; startEvents: teleportstart; endEvents: teleportend;"
      
      ></a-entity>
    </a-entity>


   
    <!-- ophalen assets uit assets folder , meegeven van id om aan te roepen -->

    <a-assets>

      <a-asset-items id="bear" src="assets/scene.gltf"></a-asset-items>
      <img id="floorTexture" src="./assets/floor.jpg">
      <a-asset-items id="bed" src="assets/hospital/scene.gltf"></a-asset-items>
      <a-asset-items id="couch" src="assets/couch/scene.gltf"></a-asset-items>
      <a-asset-items id="table" src="assets/table/scene.gltf"></a-asset-items>
      <a-asset-items id="carpet" src="assets/carpet/scene.gltf"></a-asset-items>
      <a-asset-items id="bookshelf" src="assets/bookshelf/scene.gltf"></a-asset-items>
      <a-asset-items id="tv" src="assets/television/scene.gltf"></a-asset-items>
      <a-asset-items id="wood" src="assets/wood.jpg"></a-asset-items>

    </a-assets>


    <!-- opbouw van woning / gebouw (muren, voorkant, dak, achterkant, vloeren) -->

    <!--zijkant huis-->
    <a-box src="#boxTexture" position="-2.95259 0.91314 -1.84807" depth="20" width="0.05" height="10" static-body rotation="0 0 0"></a-box>
    <!--voorkant huis-->
    <a-box src="#boxTexture" position="4 1 8.18934" depth="0,05" width="14" height="10" static-body rotation="0 0 0"></a-box>
    <!--zijkant huis-->
    <a-box src="#boxTexture" position="11 1 -1.81643" depth="20" width="0.05" height="10" static-body rotation="0 0 0"></a-box>
    <!--achterkant huis-->
    <a-box src="#boxTexture" position="4 1 -11.85885" depth="0,05" width="14" height="10"  static-body rotation="0 0 0"></a-box>
    <!--vloer in huis-->
    <a-plane src="#wood" color="#ffffff" position="4 0.2 -1.82508" rotation="-90 0 0" height="20" width="14" static-body></a-plane>
    
    <!-- dak van het huis-->
    <a-box position="4 6.37283 -1.83315" depth="20" width="14" height="1" rotation="0 0 0" static-body color="#8B8378"></a-box>

    <!-- dynamic body test -->

    <a-box class="cube" dynamic-body position="0 2 -3" width="0.5" height="0.5" depth="0.5" color="red" ></a-box>
    
    <a-box
    position="-1 2 -3"
    rotation="0 0 0"
    src=""
    color="#4CC3D9"
    static-body
  ></a-box>
    
  <a-box
  class="cube"
  dynamic-body
  position="-1 4 -3"
  width="0.5"
  height="0.5"
  depth="0.5"
  color="green"
></a-box>

    <!-- inladen van environment forest, gepersonaliseerd naar alleen kleuren en grondoppervlak -->

    <a-entity environment="preset: forest; dressing:none; ground:flat; groundTexture:walkernoise; ligtPosition:1">
    </a-entity>

    <!-- inladen en positioneren van 3d objecten (opgehaald door #id van asset mee te geven)-->

    <a-entity gltf-model="#couch" scale="0.008 0.008 0.008" position="-1.42718 0.5 -19.92022" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#table" scale="0.03 0.03 0.03" position="-1.5 0.2 4" rotation="0 0 0"></a-entity>
    <a-entity gltf-model="#carpet" scale="2.4 2.4 2.4" position="0 0.2 4" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#bookshelf" scale="0.8 0.8 0.8" position="3 0.2 5" rotation="0 90 0"></a-entity>
    <a-entity gltf-model="#tv" scale="0.1 0.1 0.1" position="1.79967 0.17502 4.00489" rotation="0 270 0"></a-entity>

  

    
  </a-scene>


  <!-- link naar extern javascript file -->


 


</body>

</html>







